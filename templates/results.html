<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Terminator Factory Output</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 900px;
        margin: 0 auto;
        padding: 20px;
        color: #333;
        line-height: 1.5;
      }
      h1 {
        text-align: center;
        margin-bottom: 0.5em;
      }
      h2 {
        border-bottom: 2px solid #eee;
        padding-bottom: 0.3em;
        margin-top: 1.5em;
        margin-bottom: 0.5em;
        color: #4CAF50;
        font-size: 1.3em;
      }
      .card {
        background: #fff;
        border: 1px solid #ddd;
        border-radius: 6px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        padding: 1em;
        margin-bottom: 1.5em;
      }
      ul.seq-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      ul.seq-list li {
        margin-bottom: 0.6em;
        word-break: break-all;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 0.5em;
      }
      table th,
      table td {
        border: 1px solid #eee;
        padding: 8px;
      }
      table th {
        background: #f9f9f9;
        text-transform: uppercase;
        font-size: 0.9em;
      }
      table tr:nth-child(even) {
        background: #fbfbfb;
      }
      pre.log {
        background: #fafafa;
        border: 1px solid #eee;
        border-radius: 4px;
        padding: 1em;
        max-height: 250px;
        overflow: auto;
        font-family: Consolas, monospace;
        font-size: 0.9em;
        margin-bottom: 1.5em;
      }
      a.button {
        display: inline-block;
        background-color: #4CAF50;
        color: white;
        padding: 10px 20px;
        border-radius: 4px;
        text-decoration: none;
        font-weight: bold;
        margin-top: 1em;
      }
      a.button:hover {
        background-color: #45A049;
      }
      .footer {
        margin-top: 3em;
        font-size: 0.8em;
        color: #666;
        border-top: 1px solid #eee;
        padding-top: 1em;
      }
    </style>
  </head>
  <body>
    <h1>Terminator Factory Output</h1>

    <!-- 1) Sequences -->
    <div class="card">
      <h2>Sequences</h2>
      <ul class="seq-list">
        {% for label, seq in sequences.items() %}
          <li><strong>{{ label }}:</strong> {{ seq }}</li>
        {% endfor %}
      </ul>
    </div>

    <!-- 2) Predicted Strength -->
    <div class="card">
      <h2>Predicted Strength</h2>
      <p style="font-size: 1.5em; margin:0.5em 0;">
        <strong>{{ predicted }}</strong>
      </p>
    </div>

    <!-- 3) Features -->
    <div class="card">
      <h2>Features</h2>
      <table>
        <thead>
          <tr><th>Feature</th><th>Value</th></tr>
        </thead>
        <tbody>
          {% for name, value in features.items() %}
          <tr>
            <td>{{ name }}</td>
            <td>{{ value }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <!-- 4) Progress Log -->
    <div class="card">
      <h2>Progress Log</h2>
      <pre class="log">
{% for line in logs %}{{ line }}
{% endfor %}
      </pre>
    </div>

    <!-- Run again button -->
    <a href="{{ url_for('home') }}" class="button">Run again</a>

    <!-- 5) Footer -->
    <div class="footer">
      <p>Developed by Guilherme E. Kundlatsch under supervision of Prof. Danielle B. Pedrolli, Prof. Elibio Leopoldo Rech Filho and Prof. Leonardo Tomazeli Duarte.</p>
      <p>The data used to train this model was originally published by Chen et al. in Nature Methods: Chen, Y.J., Liu, P., Nielsen, A., et al. (2013). Characterization of 582 natural and synthetic terminators and quantification of their design constraints. Nature Methods, 10, 659–664.</p>
      <p>This work was funded by the São Paulo State Foundation (FAPESP) grants 2023/02133-0 and 2020/09838-0, the National Council for Scientific and Technological Development (CNPq) grants 305324/2023-3 and 405953/2024-0, and the National Institute of Science and Technology – Synthetic Biology (CNPq/FAP-DF) grant 465603/2014-9.</p>
    </div>
  </body>
</html>
